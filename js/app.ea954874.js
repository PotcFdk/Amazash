(function(e){function t(t){for(var i,r,c=t[0],u=t[1],l=t[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);s&&s(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"068c":function(e,t,n){},"20b5":function(e,t,n){"use strict";n("f18e")},"2fe7":function(e,t,n){},"3fe4":function(e,t,n){},"64be":function(e,t,n){"use strict";n("c894")},"6a3d":function(e,t,n){},"7e01":function(e,t,n){"use strict";n("068c")},8512:function(e,t,n){"use strict";n("3fe4")},"9a04":function(e,t,n){"use strict";n("6a3d")},a4f0:function(e,t){e.exports="data:image/gif;base64,R0lGODlhGQFaAKECAAAAAP+hB////////yH5BAEKAAIALAAAAAAZAVoAAAL+lI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvc+HQgKh8Ri8YdMKhHGpvPZXEqnLqj1ihVSt1xNdsj5arvkciK7wprXU+sNyo7v4D26/P56tp34fopPBug3+BEVJ0iYaGGIh6j42MCYaBQRBNlIeSmQyQCmacb5aXDUaSkaSHp6kHpmqkoV+jpK1Ooqq0R7u8DqqSsAABwsXJPruzs2G2BsINwMAIS8rFAcveX8nHEdDK0sHQnWy3WtoQ1sUr7tLQFeTTWeXX6Obq7OVB1r7UweTzKfXp8MGT53+uBpK+GPHsCA7MKJK4gBHcKE2BYylPSw2b7+gyMoKrR40WHGYQbfifBYEaS9YmRMXpDY0aPKUu0IuqwAMwTKjzNXdkGJk5/Odxw7aGRwtGTSlkU57PwHQWiCm1GJUkVqUuqvqw92vnyaU4LXiGChOtDqbwJHrVgLhg17tqyFsmzbPv1Kl6fdpEC7rm3a4GDarXAV5DXr9zDJuIeDKq5qtW/grID3bktL0XJetYoXL+iMeHJnyPrAJl5adyro1IQfi12d8jNozq5Pz9b8kfUB2JV3r379m/Fo0ld7y4YtGmLrpbiRJ68tHPrzxraZqw7dfPNx5oWv87buW3n47oZvEw+d8LxnrBS+x2ZWWfdyiDnJw9dbXr5j43b+1a/fLp5Rg3lXXHz83eeSVPZtRduB7S0oW4NcjRegUwt2x9aFaCWo34MOAtfhRhMiOCJeJRaWmm5w3QThfhW6WKKADqbnAYQoGqfihtyFOB2P2eEn44A9fugfkBRal+KBK4rXIoGSmUgkiGNFRyOU4CGwJI6sZblek/PdRZaX1YE5ppASXnlkl0ryx6VZLZo3l5hDklmmmUW+56SacObpJpM57nnmi1JSF4FcgWKXZp/B5cein2w6B6OghUI6aGaTzqggb9nlySeQMmHpI4kxUqnjqJ3Oc+mJmVIKKmCN9mZnokb+iOeh/8la65362bgqq6LqCWyFvEb5K5qVIlr+7KypxnpqnRW5h2ebPN34oZyoiihpsrl6yCyuzuKqXbOtBovkrjxei62x2oLQ7bqk/gPte9LGRm2MXrZ7rLJfImulusNGZmq9jpL737+j4pvvtvvy2y+/Bh91b4alKkqVhm+iu4HFHeo7rr/ywRTxxDuOXDGGVdJK56nRnrxXvt++a461IhMsbseLAggouHSp9/KcCksks6sz12zzcCinrLKhPq/8cdOC+YjxvETrbNrSSuNsNNbh+uysnAvnNnTR2H0H89Zam530lFyX7fXXYk878ItV/+lr2m49evPaVhPrbd9pTm032JK6t2zUI+at99HZnq2Q1G//bOeamhZYXvLi0pXd8yd8+7B5whj3BHoKaodOugqfl476CqamzvoHq7cOe7oKx0677LXfPpS6uO9eKe++K8Xx78IXPXzxlBuPfI/JL898884/D3300k9PffXWX59DAQA7"},c894:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),a=n("a4f0"),o=n.n(a),r=Object(i["e"])("img",{src:o.a,alt:"Amazash Logo",class:"amazash-logo"},null,-1),c=Object(i["e"])("h1",{class:"demoHeaders"},"Calculator:",-1);function u(e,t){var n=Object(i["k"])("versioninformation"),a=Object(i["k"])("configurationselector"),o=Object(i["k"])("priceinput"),u=Object(i["k"])("resultmessage"),l=Object(i["k"])("resulttable");return Object(i["g"])(),Object(i["c"])("div",null,[r,Object(i["e"])(n,{version:e.version,"commit-timestamp":e.commitTimestamp},null,8,["version","commit-timestamp"]),Object(i["e"])(a,{selected:e.configuration,"onUpdate:selected":t[1]||(t[1]=function(t){return e.configuration=t}),configurations:e.configurations},null,8,["selected","configurations"]),c,Object(i["e"])(o,{title:"Out-of-Amazon",price:e.ooaPrice,"onUpdate:price":t[2]||(t[2]=function(t){return e.ooaPrice=t}),shipping:e.ooaShipping,"onUpdate:shipping":t[3]||(t[3]=function(t){return e.ooaShipping=t})},null,8,["price","shipping"]),Object(i["e"])(o,{title:"Amazon",price:e.aPrice,"onUpdate:price":t[4]||(t[4]=function(t){return e.aPrice=t}),shipping:e.aShipping,"onUpdate:shipping":t[5]||(t[5]=function(t){return e.aShipping=t})},null,8,["price","shipping"]),Object(i["e"])("button",{onClick:t[6]||(t[6]=function(t){return e.resetAll()})},"RESET"),Object(i["e"])(u,{"optimization-result":e.optimizationResult},null,8,["optimization-result"]),Object(i["e"])(l,{calculator:e.calculator,threshold:e.optimizationResult.threshold,"ooa-price":e.ooaPrice,"ooa-shipping":e.ooaShipping,"a-price":e.aPrice,"a-shipping":e.aShipping},null,8,["calculator","threshold","ooa-price","ooa-shipping","a-price","a-shipping"])])}var l,s=n("d4ec"),d=n("4128"),p=n.n(d),m={name:"Germany (Prime)",Amazon:3,Outside:1},h={name:"Germany (Non-Prime)",Amazon:2,Outside:1};(function(e){e["Amazon"]="Amazon",e["Outside"]="Outside Amazon"})(l||(l={}));var b=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(s["a"])(this,e),this.orderPlace=t,this.threshold=n},f=function e(t){var n=this;Object(s["a"])(this,e),this.AmazonEligiblePer=1,this.OutsideEligiblePer=2,this.normalized_eligible_amazon_factor=function(e){return e.dividedBy(n.AmazonEligiblePer).floor()},this.normalized_eligible_outside_amazon_factor=function(e){return e.dividedBy(n.OutsideEligiblePer).floor()},this.calculateAmazonPoints=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.a(0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p.a(0);return n.normalized_eligible_amazon_factor(t.mul(e).plus(i)).mul(n.configuration.Amazon)},this.calculateOutsideAmazonPoints=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.a(0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p.a(0);return n.normalized_eligible_outside_amazon_factor(t.mul(e).plus(i)).mul(n.configuration.Outside)},this.calculate_amazon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.a(0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p.a(0);return t.mul(e).plus(i).minus(n.calculateAmazonPoints(e,t,i).div(100))},this.calculate_outside_amazon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.a(0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p.a(0);return t.mul(e).plus(i).minus(n.calculateOutsideAmazonPoints(e,t,i).div(100))},this.intersect=function(e,t,i,a){var o=n.AmazonCashbackPercentage.negated().mul(a).plus(t.mul(n.OutsideCashbackPercentage.minus(1))).plus(a).dividedBy(i.mul(n.AmazonCashbackPercentage.minus(1)).minus(e.mul(n.OutsideCashbackPercentage)).plus(e));return o.isFinite()?o.toNumber():void 0},this.optimize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new p.a(0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.a(0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p.a(0),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new p.a(0),o=n.intersect(e,t,i,a)||0,r=Math.ceil(o);if(o>0){for(var c=10;c>=-10;--c){var u=n.calculate_outside_amazon(r+c-1,e,t),s=n.calculate_amazon(r+c-1,i,a),d=n.calculate_outside_amazon(r+c,e,t),m=n.calculate_amazon(r+c,i,a);if(u.greaterThanOrEqualTo(s)&&d.lessThan(m)||u.lessThan(s)&&d.greaterThanOrEqualTo(m))return d.lessThan(m)?new b(l.Outside,r+c):new b(l.Amazon,r+c)}return new b(void 0,r)}return n.calculate_outside_amazon(1,e,t).lessThan(n.calculate_amazon(1,i,a))?new b(l.Outside):new b(l.Amazon)},this.configuration=t,this.AmazonCashbackPercentage=new p.a(this.configuration.Amazon).dividedBy(this.AmazonEligiblePer).dividedBy(100),this.OutsideCashbackPercentage=new p.a(this.configuration.Outside).dividedBy(this.OutsideEligiblePer).dividedBy(100)},O={DE_Prime:m,DE_NonPrime:h},g=(n("b0c0"),Object(i["p"])("data-v-ecab33b2"));Object(i["i"])("data-v-ecab33b2");var v=Object(i["e"])("br",null,null,-1);Object(i["h"])();var j=g((function(e,t){return Object(i["g"])(),Object(i["c"])("p",null,[Object(i["o"])(Object(i["e"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedModel=t})},[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["j"])(e.configurations,(function(e){return Object(i["g"])(),Object(i["c"])("option",{key:e.name,value:e},Object(i["l"])(e.name)+": "+Object(i["l"])(e.Amazon)+" % / "+Object(i["l"])(e.Outside/2)+" % ",9,["value"])})),128))],512),[[i["m"],e.selectedModel]]),v,Object(i["e"])("span",null,"Amazon cashback: "+Object(i["l"])(e.selectedModel.Amazon)+" %, Outside cashback: "+Object(i["l"])(e.selectedModel.Outside/2)+" %",1)])})),P=Object(i["f"])({name:"configurationselector",props:{selected:{type:Object,default:O.DE_Prime},configurations:Object},computed:{selectedModel:{get:function(){return this.selected},set:function(e){this.$emit("update:selected",e)}}}});n("8512");P.render=j,P.__scopeId="data-v-ecab33b2";var z=P,y=Object(i["p"])("data-v-45abd233");Object(i["i"])("data-v-45abd233");var A=Object(i["d"])(" item price for n items = n x "),w=Object(i["d"])(" + ");Object(i["h"])();var S=y((function(e,t){return Object(i["g"])(),Object(i["c"])("div",null,[Object(i["e"])("h2",null,Object(i["l"])(e.title)+":",1),A,Object(i["o"])(Object(i["e"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.priceModel=t}),type:"number",onKeypress:t[2]||(t[2]=function(t){return e.isNumber(t)}),step:"0.01",title:"price",placeholder:"item price",autofocus:""},null,544),[[i["n"],e.priceModel,void 0,{number:!0}]]),w,Object(i["o"])(Object(i["e"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.shippingModel=t}),type:"number",onKeypress:t[4]||(t[4]=function(t){return e.isNumber(t)}),step:"0.01",placeholder:"shipping / constant costs",title:"shipping"},null,544),[[i["n"],e.shippingModel,void 0,{number:!0}]])])})),M=(n("ac1f"),n("466d"),Object(i["f"])({props:{title:String,price:p.a,shipping:p.a},methods:{isNumber:function(e){if(e.key.match(/^[\d,.]$/))return!0;e.preventDefault()}},computed:{priceModel:{get:function(){var e;return null===(e=this.price)||void 0===e?void 0:e.toNumber()},set:function(e){e&&this.$emit("update:price",new p.a(e))}},shippingModel:{get:function(){var e;return null===(e=this.shipping)||void 0===e?void 0:e.toNumber()},set:function(e){e&&this.$emit("update:shipping",new p.a(e))}}}}));n("9a04");M.render=S,M.__scopeId="data-v-45abd233";var _=M,q=Object(i["p"])("data-v-0c4e4f5c");Object(i["i"])("data-v-0c4e4f5c");var k={class:"resultmessage"};Object(i["h"])();var T=q((function(e,t){return Object(i["g"])(),Object(i["c"])("span",k,Object(i["l"])(e.result),1)})),K=Object(i["f"])({name:"resultmessage",props:{optimizationResult:{type:b,default:new b}},computed:{result:function(){return this.optimizationResult.threshold>1?this.optimizationResult.orderPlace==l.Outside?"It makes sense to buy outside Amazon when quantity >= ".concat(this.optimizationResult.threshold):"It makes sense to buy on Amazon when quantity >= ".concat(this.optimizationResult.threshold):this.optimizationResult.orderPlace==l.Outside?"With these parameters, it always makes sense to buy outside of Amazon.":"With these parameters, it always makes sense to buy on Amazon."}}});n("d39f");K.render=T,K.__scopeId="data-v-0c4e4f5c";var X=K,B=(n("b680"),n("d3b7"),n("25f0"),Object(i["p"])("data-v-e7fa6a50"));Object(i["i"])("data-v-e7fa6a50");var I=Object(i["e"])("thead",null,[Object(i["e"])("tr",null,[Object(i["e"])("th",null,"quantity"),Object(i["e"])("th",null,"outside Amazon"),Object(i["e"])("th"),Object(i["e"])("th",null,"on Amazon"),Object(i["e"])("th",null,"verdict")])],-1),E={id:"result_calculation_body"};Object(i["h"])();var R=B((function(e,t){return Object(i["g"])(),Object(i["c"])("table",null,[I,Object(i["e"])("tbody",E,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["j"])(e.table,(function(t){return Object(i["g"])(),Object(i["c"])("tr",{key:t.quantity,class:{"threshold-result":t.red}},[Object(i["e"])("td",null,Object(i["l"])(t.quantity.toString()),1),Object(i["e"])("td",null,Object(i["l"])(e.ooaPriceModel.mul(t.quantity).plus(e.ooaShippingModel).toString())+" - "+Object(i["l"])(e.calculateOutsideAmazonPoints(t.quantity,e.ooaPriceModel,e.ooaShippingModel).div(100).toString())+" = "+Object(i["l"])(t.ooa.toFixed(2)),1),Object(i["e"])("td",null,Object(i["l"])(t.ooa.greaterThan(t.a)?">":t.ooa.lessThan(t.a)?"<":"="),1),Object(i["e"])("td",null,Object(i["l"])(e.aPriceModel.mul(t.quantity).plus(e.aShippingModel).toString())+" - "+Object(i["l"])(e.calculateAmazonPoints(t.quantity,e.aPriceModel,e.aShippingModel).div(100).toString())+" = "+Object(i["l"])(t.a.toFixed(2)),1),Object(i["e"])("td",null,Object(i["l"])(t.ooa.greaterThanOrEqualTo(t.a)?"Amazon wins! (δ = ".concat(t.ooa.minus(t.a),")"):"Outside of Amazon wins! (δ = ".concat(t.a.minus(t.ooa),")")),1)],2)})),128))])])})),x=(n("d81d"),n("a9e3"),Object(i["f"])({name:"resulttable",data:function(){return{calculateAmazonPoints:this.calculator.calculateAmazonPoints,calculateOutsideAmazonPoints:this.calculator.calculateOutsideAmazonPoints}},props:{calculator:{type:f,default:new f(O.DE_Prime)},threshold:{type:Number,default:0},ooaPrice:p.a,ooaShipping:p.a,aPrice:p.a,aShipping:p.a},computed:{ooaPriceModel:function(){return this.ooaPrice||new p.a(0)},ooaShippingModel:function(){return this.ooaShipping||new p.a(0)},aPriceModel:function(){return this.aPrice||new p.a(0)},aShippingModel:function(){return this.aShipping||new p.a(0)},table:function(){var e=this;return[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5].map((function(t){return t+11-Math.max(Math.min(e.threshold,10),0)})).map((function(t){return{quantity:e.threshold+t,ooa:e.calculator.calculate_outside_amazon(e.threshold+t,e.ooaPrice,e.ooaShipping),a:e.calculator.calculate_amazon(e.threshold+t,e.aPrice,e.aShipping),red:!t}}))}}}));n("7e01");x.render=R,x.__scopeId="data-v-e7fa6a50";var C=x,G=Object(i["p"])("data-v-4ba44a78"),N=G((function(e,t){return Object(i["g"])(),Object(i["c"])("div",null,"Version: "+Object(i["l"])(e.version)+" from "+Object(i["l"])(e.date),1)})),D=Object(i["f"])({name:"versioninformation",props:{version:String,commitTimestamp:{type:Number,default:0}},computed:{date:function(){return new Date(this.commitTimestamp).toUTCString()}}});n("20b5");D.render=N,D.__scopeId="data-v-4ba44a78";var J=D,U=Object(i["f"])({name:"App",el:"#app",data:function(){return{aPrice:void 0,aShipping:void 0,ooaPrice:void 0,ooaShipping:void 0,version:"3.0.0",commitTimestamp:"undefined"!==typeof COMMITTIMESTAMP?1e3*COMMITTIMESTAMP:void 0,configurations:O,configuration:O.DE_Prime}},methods:{resetAll:function(){this.aPrice=void 0,this.aShipping=void 0,this.ooaPrice=void 0,this.ooaShipping=void 0}},computed:{calculator:function(){return new f(this.configuration)},optimizationResult:function(){return this.calculator.optimize(this.ooaPrice,this.ooaShipping,this.aPrice,this.aShipping)}},components:{configurationselector:z,priceinput:_,resultmessage:X,resulttable:C,versioninformation:J}}),H=U;n("64be");H.render=u;var L=H;Object(i["b"])(L).mount("#app")},d39f:function(e,t,n){"use strict";n("2fe7")},f18e:function(e,t,n){}});
//# sourceMappingURL=app.ea954874.js.map